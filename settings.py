from csv import reader 
from os import walk 
import pygame 

# Game settings 
WIDTH, HEIGHT = 1280,720
FPS = 60

player_img = ['./assets/Player/player.png','./assets/Player/player.png']
bamboo_img = ['./assets/Player/bamboo_1.png']
tiles_img = ['./assets/Tiles/tile1.png','./assets/Tiles/slab.png','./assets/Player/bamboo_1.png']
items_img = ['./assets/Tiles/coin.png','./assets/Tiles/fruit.png']

# Sprite Groups
visable_sprite = pygame.sprite.Group()
collide_sprite = pygame.sprite.Group()
player_sprite = pygame.sprite.Group()
bamboo_sprite = pygame.sprite.Group()
trap_sprite = pygame.sprite.Group()
item = pygame.sprite.Group()

# Enemy groups
enemy1_sprite = pygame.sprite.Group()

# Order of sprite groups
s_groups = {
    "visable":visable_sprite,
    "bamboo":bamboo_sprite,
    "collide":collide_sprite,
    "item":item,
    "player":player_sprite,
    "trap":trap_sprite,
    "mob_1":enemy1_sprite
}

#### Level legend and Levels
# x: grass_tile
# n: dirt tile 
# p: player
# l: coin
# s: stone slab
# t: trap_1 
# m1: mob_1
level_1 = [
    ['','','','','p','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','m1','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','t','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','b','b','','','','','','','','','','','','','',''],
    ['','','','s','','t','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','t','x','n','n','n','n','n','n','n','','','','','',''],
    ['','','','','s','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','s','l','t','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','l','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','l','s','s','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','b','x','n','n','n','n','n','n','','','','','','',''],
]
empty = [
    ['','','','','','','','','','','','','','','','','','','',''],
    ['','','','','','','','','','','','','','','','','','','',''],
    ['','','','','','','','','','','','','','','','','','','',''],
    ['','','','','','','','','','','','','','','','','','','',''],
    ['','','','','','','','','','','','','','','','','','','',''],
    ['','','','','','','','','','','','','','','','','','','',''],
    ['','','','','','','','','','','','','','','','','','','',''],
    ['','','','','','','','','','','','','','','','','','','',''],
    ['','','','','','','','','','','','','','','','','','','',''],
    ['','','','','','','','','','','','','','','','','','','',''],
    ['','','','','','','','','','','','','','','','','','','',''],
    ['','','','','','','','','','','','','','','','','','','',''],
    ['','','','','','','','','','','','','','','','','','','',''],
    ['','','','','','','','','','','','','','','','','','','',''],
    ['','','','','','','','','','','','','','','','','','','',''],
    ['','','','','','','','','','','','','','','','','','','',''],
]
grass_plains = [
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
    ['','','','','','','x','n','n','n','n','n','n','','','','','','',''],
]

# Reused Functions 
def gravity(self,falling):
     if falling == True:
          self.direction.y += self.gravity
          self.rect.y += self.direction.y

def button(screen,pos,text,level):
    font = pygame.font.SysFont("Arial",25)
    text_r = font.render(text,1,(255,255,0))
    x, y, w , h = text_r.get_rect()
    x, y = pos
    pygame.draw.line(screen, (150, 150, 150), (x, y), (x + w , y), 5)
    pygame.draw.line(screen, (150, 150, 150), (x, y - 2), (x, y + h), 5)
    pygame.draw.line(screen, (50, 50, 50), (x, y + h), (x + w , y + h), 5)
    pygame.draw.line(screen, (50, 50, 50), (x + w , y+h), [x + w , y], 5)
    pygame.draw.rect(screen, (100, 100, 100), (x, y, w , h))
    return screen.blit(text_r, (x, y))
